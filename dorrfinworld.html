<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="manifest" href="/mainifest.json">

    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <title>도르핀 - 데뷔 100일을 축하해!</title>
    <!-- 기본 메타 태그 -->
    <meta name="description" content="도르핀 키우기는 인기 버츄얼 스트리머 '도르핀'을 키우는 웹게임입니다. 클릭으로 레벨업하고 새로운 컬렉션과 도르핀의 다양한 모습을 만나보세요.">
    <meta name="keywords" content="도르핀, 버츄얼 스트리머, 숲 스트리밍, BJ, 도르핀 키우기, 클릭 게임, 버츄얼 유튜버, 키우기 게임, 웹게임">
    <meta name="author" content="도르핀반려견">

    <!-- Open Graph (OG) 메타 태그 -->
    <meta property="og:title" content="도르핀 키우기 - 버츄얼 스트리머와 함께 성장하는 게임">
    <meta property="og:description" content="도르핀 키우기: 클릭으로 도르핀을 성장시키고 다양한 모습과 컬렉션을 수집하세요! 버츄얼 스트리머 도르핀과 함께 재미있는 시간을 가져보세요.">
    <meta property="og:image" content="metaAssets/Open Graph (OG).png"> <!-- OG 이미지 -->
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:url" content="https://billydevelop.github.io/dorrfinworld.html">
    <meta property="og:type" content="website">
  
    <link rel="icon" href="metaAssets/파비콘 (Favicon).png" type="image/png"> 

    <style>
        :root {
            --primary-color: #2E8B57;
            --secondary-color: #FFFFFF;
            --background-color: #1A1A1D;
            --menu-color: #007BFF;
            --accent-color: #FFD700;
            --text-color: #FFFFFF;
        }

        body {
            margin: 0;
            font-family: 'Pretendard', Arial, sans-serif;
            background-color: var(--background-color);
            color: var(--text-color);
            overflow-x: hidden;
            -ms-overflow-style: scrollbar;
        }

        .menu-bar {
            position: absolute;
            display:grid;
            top: 100px;
            left: 100px;
            height: 120px;
            background   :#FFD700; /* 반투명 스타일 */
            padding: 10px 20px;
            border-radius: 10px;
            z-index: 10;
        }       

        .menu-bar-roof {
            background: rgba(0, 123, 255, 0); /* 반투명 스타일 */
            color: rgb(158, 158, 158);
            padding-bottom: 10px;
            
        }

        .menu-bar:hover {
            color: var(--secondary-color);
            text-decoration: none;
            font-size: 1.2em;
            font-weight: bold;
        }

        .menu-bar a {
            color: var(--secondary-color);
            text-decoration: none;
            font-size: 1.2em;
            font-weight: bold;
        }

        .menu-bar a:hover {
            color: var(--menu-color);
            text-decoration: none;
            font-size: 1.2em;
            font-weight: bold;
        }

        .fullscreen {
            position: relative;
            width: 100vw; /* 배경 크기 확장 */
            height: 100vh;
            background: url('/mainassets/배경1.png') no-repeat center center/cover;
            cursor: grab; /* 드래그 표시 커서 */
            overflow-x: hidden;
            transition: transform 0.5s ease; /* 배경 줌 효과 */
        }

        .fullscreen:active {
            cursor: grabbing;
        }


        .aim-container {
        position: absolute;
        width: 100%;
        height: 100%;
        }

        .aim {
            position: absolute;
            color: white;
            width: 70px;
            height: 70px;
            border: 6px solid rgb(255, 255, 255); opacity : 0.9;
            border-radius: 10%;
            cursor: pointer;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            display: flex;
            justify-content: center;
            align-items: center;
            font-style: bold;
        }

        

        .aim:hover {
            width:120px;
            height:70px;
            transform: scale(1.4) rotate(720deg);
            box-shadow: 0 0 100px var(--accent-color);
            font-style: bold;
        }



        .aim-text {
            display: none;
            font-size: 16px;
            color: white;
            font-style: bold;
            text-align: center;

        }
        .aim:hover .aim-text {
            display: block;
            font-style: bold;
        }

            /* 개별 aim 제어: 특정 화면 크기에서 숨기기 */
            @media (max-width: 768px) {
            .aim.aim-1 {
                opacity: 0.2; /* 반투명 처리 */
                pointer-events: none; /* 클릭 불가 */
            }


            .aim.aim-3 {
                opacity: 0.2; /* 반투명 처리 */
                pointer-events: none; /* 클릭 불가 */
            }
        }

        .guide-container {
            position: fixed;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }

        .guide {
            pointer-events: all;
            background-color: var(--menu-color);
            color: var(--secondary-color);
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 0.9em;
            cursor: pointer;
            z-index: 2000;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
            text-align: center;
            position: fixed;
        }



        .popup {
            position: fixed;
            display:flex;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
            width: 90%;
            max-width: 600px;
            background-color: rgba(0, 0, 0, 0.4);
            border-radius: 15px;
            box-shadow: 0 8px 16px -3px #ffffff;
            text-align: center;
            transition: transform 0.5s ease, opacity 0.5s ease;
            z-index: 2000;
            padding: 80px;
            opacity: 0;
            color: var(--text-color);
        }

        .popup.active {
            transform: translate(-50%, -50%) scale(1.4);
            opacity: 1;
        }

        .popup img {
            width: 40%;
            height: auto;
            border-radius: 10px;
            margin-bottom: 15px;
            margin-left:40px;
            box-shadow: 4px 4px 4px;
            filter: drop-shadow(4px 4px 4px)
        }

        .popup .btndetail{
            text-align: left;
            margin-top: 70px;
            margin-bottom: 70px;
            margin-left: 20px;
        }

        .popup h2 {
            margin-left: 60px;
            font-size: 1.5em;
            color: var(--secondary-color);
            text-align: left;
            align-content: center;
            text-shadow: #1A1A1D;
            color:#ffffff
        }


        .popup button {
            flex: 1;
            background-color: var(--accent-color);
            color: var(--text-color);
            border: none;
            border-radius: 5px;
            padding: 10px;
            cursor: pointer;
            font-size: 1em;
            transition: background-color 0.3s ease;
            margin-top: 40px;
            margin-left: 60px;
            font-weight: bold;
        }

        .popup button:hover {
            background-color: #FFC107;
            transform: translateY(-5px) scale(1.05);
        }












        .bgm-container {
            position: fixed;
            top: 260px;
            left: 100px;
            z-index: 1000;
            background: rgba(0, 0, 0, 0.8);
            padding: 20px;
            border-radius: 10px;
            width: 300px;
            height: 300px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.5);
        }

        .bgm-title {
            font-size: 1.2em;
            margin-bottom: 15px;
            text-align: center;
        }

        .bgm-controls {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
        }

        .bgm-controls button {
            background: #FFD700;
            border: none;
            border-radius: 5px;
            padding: 10px 15px;
            cursor: pointer;
            font-size: 1em;
            color: #1A1A1D;
            transition: background-color 0.3s ease;
        }

        .bgm-controls button:hover {
            background: #FFC107;
        }

        .bgm-playlist {
            width: 100%;
            max-height: 200px;
            overflow-y: auto;
        }

        .bgm-playlist ul {
            list-style: none;
            margin: 0;
            padding: 0;
        }

        .bgm-playlist li {
            padding: 8px 10px;
            cursor: pointer;
            background: rgba(255, 255, 255, 0.1);
            margin-bottom: 5px;
            border-radius: 5px;
            transition: background-color 0.3s ease;
        }

        .bgm-playlist li:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        .bgm-playlist li.active {
            background: rgba(255, 215, 0, 0.5);
            font-weight: bold;
        }

        /* 스크롤바 스타일 */
        .bgm-playlist::-webkit-scrollbar {
            width: 8px;
        }

        .bgm-playlist::-webkit-scrollbar-thumb {
            background: #FFD700;
            border-radius: 5px;
        }

        .bgm-playlist::-webkit-scrollbar-thumb:hover {
            background: #FFC107;
        }










        
/* 팝업을 화면 중앙에 오버레이되도록 배치 */
#messageListPopup {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%) scale(0); /* 화면 중앙으로 이동 */
    width: 90%;
    max-width: 800px; /* 팝업 너비 제한 */
    background-color: rgba(0, 0, 0, 0.6); /* 반투명 검정 배경 */
    border-radius: 15px;
    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
    text-align: center;
    padding: 20px;
    z-index: 3000; /* 팝업을 최상위 레이어로 올리기 */
    opacity: 0;
    transition: transform 0.3s ease, opacity 0.3s ease;
}

#messageListPopup.active {
    transform: translate(-50%, -50%) scale(1); /* 팝업 표시 */
    opacity: 1;
}

#messageListPopup iframe {
    width: 100%;
    height: 700px; /* iframe 높이 조정 */
    border: none;
    border-radius: 10px;
}

#messageListPopup .close-btn {
    position: absolute;
    top: 10px;
    right: 10px;
    background: #007BFF; /* 밝은 파란색 */
    color: rgb(255, 255, 255);
    border: none;
    border-radius: 50%;
    width: 30px;
    height: 30px;
    cursor: pointer;
    font-size: 16px;
    display: flex;
    justify-content: center;
    align-items: center;
    transition: background-color 0.3s ease, transform 0.2s ease;
    z-index: 3100;
}

/* 닫기 버튼 호버 효과 */
#messageListPopup .close-btn:hover {
    background: #0056b3; /* 어두운 파란색 */
    transform: scale(1.1); /* 버튼 크기 살짝 확대 */
}


/* 전체 스크롤바 스타일 */
::-webkit-scrollbar {
    width: 10px; /* 스크롤바 너비 */
}

/* 스크롤바 트랙 스타일 */
::-webkit-scrollbar-track {
    background: rgba(255, 255, 255, 0.1); /* 연한 배경 */
    border-radius: 5px;
}

/* 스크롤바 핸들 스타일 */
::-webkit-scrollbar-thumb {
    background: rgba(255, 215, 0, 0.8); /* 골드 컬러 */
    border-radius: 5px;
    box-shadow: 0 0 5px rgba(0, 0, 0, 0.5); /* 그림자 */
}

/* 스크롤바 핸들 호버 시 스타일 */
::-webkit-scrollbar-thumb:hover {
    background: rgba(255, 215, 0, 1); /* 더 밝은 골드 */
}




        
        .video-popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
            width: 90%;
            max-width: 800px;
            background-color: #363636;
            border-radius: 40px;
            padding: 20px;
            text-align: center;
            z-index: 3000;
            transition: transform 0.5s ease, opacity 0.5s ease;
            opacity: 0;
        }


        .video-popup.active {
            transform: translate(-50%, -50%) scale(1);
            opacity: 1;
        }

        .video-popup .close-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            background: #007BFF; /* 밝은 파란색 */
            color: rgb(255, 255, 255);
            border: none;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            cursor: pointer;
            font-size: 16px;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: background-color 0.3s ease, transform 0.2s ease;
            z-index: 3100;
        }

        .video-popup .close-btn:hover {
            transform: translate(-50%, -50%) scale(1);
            opacity: 1;
            background: #CC0000;
        }

        .video-popup video {
            width: 100%;
            height: auto;
            border-radius: 0px;
        }

        .video-popup img {
            width: 100%;
        }
        
        .video-popup video-container {
            display: flex;
            gap: 20px; /* 간격 조정 */
        }
        .video-popup  iframe {
            width: 100%;
            height: 300px;
            border: none;
        }



        .social-links {
            position:absolute;
            top: 100px;
            right: 100px;
            display: flex;
            justify-content: center;
            gap: 15px;
            padding:10px;
        }

        .social-links a {
            display: inline-block;
            width: 50px;
            height: 50px;
            margin-left: 10px;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .social-links a:hover {
            transform: scale(1.2); /* 호버 시 크기 확대 */
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); /* 그림자 효과 */
        }

        .social-links img {
            width: 100%;
            height: 100%;
            object-fit: contain; /* 아이콘 이미지 크기 조정 */
            border-radius: 30%; /* 둥근 모서리 */
            border-color: #FFD700;
            border: 3px solid #FFD700; opacity : 0.9;
            background: rgba(39, 39, 39, 0.7); /* 반투명 스타일 */
            padding: 4px;
        }

        .social-links img:hover {
            width: 100%;
            height: 100%;
            object-fit: contain; /* 아이콘 이미지 크기 조정 */
            border-radius: 30%; /* 둥근 모서리 */
            border-color: #FFD700;
            border: 3px solid #FFD700; opacity : 0.9;
            background: rgba(42, 255, 166, 0.7); /* 반투명 스타일 */
            padding: 4px;
        }



        /* 디데이 위젯 */
        .d-day-widget {
            position: fixed;
            bottom: 80px;
            right: 80px;
            background-color: #2E2E2E;
            padding: 15px 20px;
            border-radius: 12px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            text-align: center;
            z-index: 1000;
            transition: transform 0.3s ease, opacity 0.3s ease;
        }

        .d-day-header {
            font-size: 1rem;
            color: #FFD700;
            margin-bottom: 10px;
        }

        .d-day-number {
            font-size: 2rem;
            font-weight: bold;
            margin: 5px 0;
        }

        .d-day-time {
            font-size: 1.2rem;
            font-weight: bold;
            margin: 10px 0;
        }

        .d-day-footer {
            font-size: 0.8rem;
            color: #B0B0B0;
        }



        @media (max-width: 768px) {
            .social-links {
                flex-wrap: wrap; /* 여러 줄로 아이콘 배치 */
            }
            .social-links a {
                width: 40px;
                height: 40px; /* 아이콘 크기 축소 */
            }
        }


    </style>
</head>
<body>
    <div class="menu-bar">
        <div class="menu-bar-roof">Select-Menu</div>
        <a href="#" onclick="showVideoPopup()">100Days QuickView</a>
        <a href="#" onclick="document.querySelector('.aim[data-popup=popup2]').click()">도르핀 키우기</a>
        <a href="#" onclick="document.querySelector('.aim[data-popup=popup3]').click()">복어단 축하메시지</a>
    </div>

    <div class="d-day-widget" id="dDayWidget">
        <div class="d-day-header">방송 디데이</div>
        <div id="dDay" class="d-day-number">D-0</div>
        <div id="dDayTime" class="d-day-time">00:00:00</div>
        <div class="d-day-footer">기준일: 10월 1일 00시</div>
    </div>

    

    <div class="bgm-container">
        <div class="bgm-title" id="bgmTitle">🎵 BGM: Welcome</div>
        <div class="bgm-controls">
            <button id="prevTrack">⏮</button>
            <button id="playPause">▶</button>
            <button id="nextTrack">⏭</button>
        </div>
        <div class="bgm-playlist">
            <ul id="playlist">
                <li data-src="./assets/시퍼런 봄 - 도르핀.mp3" class="active">시퍼런 봄 - 도르핀</li>
                <li data-src="./assets/밤양갱 - 도르핀.mp3">밤양갱 - 도르핀</li>
                <li data-src="./assets/킷땅 권위자 - 도르핀.mp3">킷땅 권위자 - 도르핀</li>
                <li data-src="./assets/호랑수월가 - 도르핀.mp3">호랑수월가 - 도르핀</li>
                <li data-src="./assets/혜성-도르핀.mp3">혜성-도르핀</li>
                <li data-src="./assets/히힛 고음발싸 - 도르핀.mp3">히힛 고음발싸 - 도르핀</li>
                <li data-src="./assets/꽃의 망령 - 도르핀.mp3">꽃의 망령 - 도르핀</li>
                <li data-src="./assets/상사화 - 도르핀.mp3">상사화 - 도르핀</li>
                <li data-src="./assets/초절정 귀여워 핀핀 - 도르핀.mp3">초절정 귀여워 핀핀 - 도르핀</li>
                <li data-src="./assets/만개화 - 도르핀.mp3">만개화 - 도르핀</li>
                <li data-src="./assets/lilas - 도르핀.mp3">lilas - 도르핀</li>
                <li data-src="./assets/경서 모음 - 도르핀.mp3">경서 모음 - 도르핀</li>
                <li data-src="./assets/수피 - 도르핀.mp3">수피 - 도르핀</li>
                <li data-src="./assets/라푼젤 OST - 도르핀.mp3">라푼젤 OST - 도르핀</li>
                <li data-src="./assets/밤양갱 - 도르핀.mp3">밤양갱 - 도르핀</li>
                <li data-src="./assets/홀로 - 도르핀.mp3">홀로 - 도르핀</li>
                <li data-src="./assets/시퍼런 봄 - 도르핀.mp3">시퍼런 봄 - 도르핀</li>
            </ul>
        </div>
    </div>

    <audio id="bgmAudio"> </audio>



    <div class="fullscreen">
        <div class="aim-container">
            <div class="aim" style="top: 34%; left: 28%;" data-popup="videoPopup">
                <span class="aim-text"> 100Days quickView </span>
            </div>
            <div class="aim" style="top: 42%; left: 54%;" data-popup="popup2">
                <span class="aim-text">Raise Dorrfin</span>
            </div>
            <div class="aim" style="top: 62%; left: 88%;" data-popup="popup3">
                <span class="aim-text">Lucky Message</span>
            </div>
            <div class="aim" style="top: 68%; left: 34%;">
                <span class="aim-text">르핀이가 좋아하는 말보루 레드!</span>
            </div>
            <div class="aim" style="top: 44%; left: 10%;">
                <span class="aim-text">엣치치 포션...</span>
            </div>
            <div class="aim" style="top: 50%; left: 57%;">
                <span class="aim-text">도르핀 스케쥴이 빼곡히 적혀있다....</span>
            </div>
        </div>
    </div>

        <!-- 팝업 모달 -->
        <div class="popup" id="popup1">
            <img src="./mainassets/aim3-click-image.png" alt="복어단 편지지 3">
            <div class="btndetail">
            <h2>복어단의</h2>
            <h2>도르핀 데뷔 100일</h2>
            <h2>축하 메시지를</h2>
            <h2>확인하세요 !</h2>
            <button onclick="openMessageBox2()">메세지함 열기</button>
            </div>
        </div>

        <div class="popup" id="popup2">
            <img src="./mainassets/aim2-click-image.png" alt="복어단 편지지 3">
            <div class="btndetail">
            <h2>[100주년:도르핀 키우기]</h2>
            <h2>도르핀을 키우고 컬렉션을 수집하세요</h2>
            <h2>채팅치고 통나무들고</h2>
            <h2>고로시, 도르 핀볼도!</h2>
            <button onclick="openMessageBox()">도르핀 키우기</button>
            </div>
        </div>

            <div class="popup" id="popup3">
                <img src="./mainassets/aim3-click-image.png" alt="복어단 편지지 3">
                <div class="btndetail">
                <h2>복어단의</h2>
                <h2>도르핀 데뷔 100일</h2>
                <h2>축하 메시지를</h2>
                <h2>확인하세요 !</h2>
                <button onclick="openMessageBox3()">메세지함 열기</button>
            </div>
        </div>
    </div>


            <!-- 추가된 iframe을 위한 모달 -->
        <div class="messagepopup" id="messageListPopup">
            <img src="./assets/복어단메시지.png">
            <button class="close-btn" onclick="closeMessageList()">&times;</button>
            <iframe id="messageListIframe" src="" style="width: 100%; height: 500px; border: none; border-radius: 10px;"></iframe>
        </div>n
           
           
        <div class="video-popup" id="videoPopup">
            <button class="close-btn" onclick="closeVideoPopup()">&times;</button>
            <img src="./videoAssets/video상단배너.png" alt="배너">
            <div class="video-container">
                <a href="https://www.youtube.com/watch?v=339S6SUn3fs" target="_blank" class="image-link">
                    <img src="./assets/Frame 1000003180.png" alt="Video Thumbnail">
                </a>   
                <a href="https://www.youtube.com/watch?v=Bpfe_t3cQ7Q" target="_blank" class="image-link">
                    <img src="./assets/[도르핀 데뷔 100일] 도르핀 자투리 모음.png" alt="Video Thumbnail">
                </a>
        </div>
    </div>


            <div class="social-links">
                <a href="https://ch.sooplive.co.kr/333333333327" target="_blank" title="숲">
                    <img src="./assets/SOOP_Symbol_White.png" alt="숲 아이콘">
                </a>
                <a href="https://www.youtube.com/@dor_fin11" target="_blank" title="유튜브">
                    <img src="./assets/YOUTUBE_Symbol.png" alt="유튜브 아이콘">
                </a>
                <a href="https://discord.com/invite/QUNGq8ews3" target="_blank" title="디스코드">
                    <img src="./assets/DISCORD_Symbol.png" alt="디스코드 아이콘">
                </a>
                <a href="https://cafe.naver.com/finiy" target="_blank" title="팬카페">
                    <img src="./assets/CAFE_Symbol.png" alt="팬카페 아이콘">
                </a>
                <a href="https://docs.google.com/spreadsheets/d/1tFXE_gr6mfkMDEeEN8DWY4wZMVfHzZVxHx8wUxgqP0Q/edit?usp=sharing" target="_blank" title="노래책">
                    <img src="./assets/SONGBOOK_Symbol.png" alt="노래책 아이콘">
                </a>
                <a href="https://fancim.me/celeb/profile.aspx?cu_id=finiy11" target="_blank" title="노래책">
                    <img src="./assets/fancim_Symbol.png" alt="팬심 아이콘">
                </a>

            </div>
            

    <script>

        document.addEventListener("DOMContentLoaded", () => {
            // 여기에 기존 코드를 삽입
            const popup = document.getElementById("videoPopup");
            if (popup) {
                popup.classList.add("active"); // 팝업 표시
            } else {
                console.error("videoPopup element not found!");
            }
        });

        // 페이지 로드 시 자동으로 팝업 표시
        window.onload = function () {
            showVideoPopup(); // 페이지 로드 후 팝업 실행
        };

                // 팝업 표시 함수
        function showVideoPopup() {
            const popup = document.getElementById("videoPopup");
            if (popup) {
                popup.classList.add("active"); // 팝업 표시
            } else {
                console.error("videoPopup element not found!");
            }
        }

        // 팝업 닫기 함수
        function closeVideoPopup() {
            const popup = document.getElementById("videoPopup");
            if (popup) {
                popup.classList.remove("active"); // 팝업 숨김
            }
        }



        const targetDate = new Date(2024, 9, 1, 0, 0, 0); // 기준일: 2024년 10월 1일 00시

function calculateElapsedTime() {
    const now = new Date(); // 현재 날짜와 시간

    // 시간 차이 계산 (현재 시간 - 기준일)
    const diffTime = now - targetDate; // 경과 시간 (밀리초 단위)
    const totalSeconds = Math.max(0, Math.floor(diffTime / 1000)); // 초 단위 계산

    // 일, 시, 분, 초 계산
    const days = Math.floor(totalSeconds / (3600 * 24)+1); // 총 경과 일수
    const hours = String(Math.floor((totalSeconds / 3600) % 24)).padStart(2, '0'); // 시
    const minutes = String(Math.floor((totalSeconds / 60) % 60)).padStart(2, '0'); // 분
    const seconds = String(totalSeconds % 60).padStart(2, '0'); // 초

    // HTML 요소 선택
    const dDayElement = document.getElementById("dDay");
    const dDayTimeElement = document.getElementById("dDayTime");

    if (!dDayElement || !dDayTimeElement) {
        console.error("D-Day elements are missing in the HTML!");
        return;
    }

    // D-Day 및 시간 업데이트
    dDayElement.textContent = `D+${days}`;
    dDayTimeElement.textContent = `${hours}:${minutes}:${seconds}`;
}

// 페이지 로드 시 실행 및 매 초 업데이트
window.onload = function () {
    calculateElapsedTime(); // 초기 실행
    setInterval(calculateElapsedTime, 1000); // 1초마다 업데이트
};











        // 전역 변수 선언
        let isBgmPlaying = false;
        let currentAudio = null; // 현재 재생 중인 오디오


        // BGM 오디오 참조
        const bgmAudio = document.getElementById("bgmAudio");
        const bgmTitle = document.getElementById("bgmTitle");
        const playPauseBtn = document.getElementById("playPause");
        const prevTrackBtn = document.getElementById("prevTrack");
        const nextTrackBtn = document.getElementById("nextTrack");
        const playlist = document.getElementById("playlist");
        const tracks = playlist.querySelectorAll("li");


        let currentTrackIndex = 0;

        // Initialize first track
        bgmAudio.src = tracks[currentTrackIndex].dataset.src;

        // Update UI for active track
        function updateActiveTrack() {
            tracks.forEach((track, index) => {
                track.classList.toggle("active", index === currentTrackIndex);
            });
            bgmTitle.textContent = `🎵 BGM: ${tracks[currentTrackIndex].textContent}`;
        }

        // Play or Pause function
        function togglePlayPause() {
            if (bgmAudio.paused) {
                bgmAudio.play();
                playPauseBtn.textContent = "❚❚";
            } else {
                bgmAudio.pause();
                playPauseBtn.textContent = "▶";
            }
        }

        // Play next track
        function playNextTrack() {
            currentTrackIndex = (currentTrackIndex + 1) % tracks.length;
            bgmAudio.src = tracks[currentTrackIndex].dataset.src;
            bgmAudio.play();
            playPauseBtn.textContent = "❚❚";
            updateActiveTrack();
        }

        // Play previous track
        function playPrevTrack() {
            currentTrackIndex =
                (currentTrackIndex - 1 + tracks.length) % tracks.length;
            bgmAudio.src = tracks[currentTrackIndex].dataset.src;
            bgmAudio.play();
            playPauseBtn.textContent = "❚❚";
            updateActiveTrack();
        }

        // Select track from playlist
        tracks.forEach((track, index) => {
            track.addEventListener("click", () => {
                currentTrackIndex = index;
                bgmAudio.src = track.dataset.src;
                bgmAudio.play();
                playPauseBtn.textContent = "❚❚";
                updateActiveTrack();
            });
        });


        // Event listener for when the track ends
        bgmAudio.addEventListener("ended", playNextTrack); // 노래 끝나면 다음 곡 재생

        // Add event listeners
        playPauseBtn.addEventListener("click", togglePlayPause);
        nextTrackBtn.addEventListener("click", playNextTrack);
        prevTrackBtn.addEventListener("click", playPrevTrack);

        // Initialize UI
        updateActiveTrack();


        document.querySelectorAll('.aim').forEach(aim => {
            aim.addEventListener('click', (e) => {
                const popupId = e.target.getAttribute('data-popup');
                document.querySelectorAll('.popup').forEach(popup => popup.classList.remove('active'));
                document.getElementById(popupId).classList.add('active');
            });
        });

        document.addEventListener('click', (e) => {
            if (!e.target.classList.contains('aim')) {
                document.querySelectorAll('.popup').forEach(popup => popup.classList.remove('active'));
            }
        });

    // 에임 위치 확인 및 가이드 표시
    function checkAimPositions() {
        const aims = document.querySelectorAll('.aim');
        const guideContainer = document.createElement('div');
        guideContainer.className = 'guide-container';
        document.body.appendChild(guideContainer);

        aims.forEach((aim, index) => {
            const rect = aim.getBoundingClientRect();
            const screenWidth = window.innerWidth;
            const screenHeight = window.innerHeight;

            // 화면 밖에 있는 에임 탐지
            if (rect.left < 0 || rect.right > screenWidth || rect.top < 0 || rect.bottom > screenHeight) {
                const guide = document.createElement('div');
                guide.className = 'guide';
                guide.textContent = `Go to ${index + 1}`;
                guide.style.position = 'fixed';

                // 위치에 따라 화살표 표시
                if (rect.left < 0) {
                    guide.style.left = '0';
                    guide.style.top = `${rect.top + rect.height / 2}px`;
                } else if (rect.right > screenWidth) {
                    guide.style.right = '0';
                    guide.style.top = `${rect.top + rect.height / 2}px`;
                } else if (rect.top < 0) {
                    guide.style.top = '0';
                    guide.style.left = `${rect.left + rect.width / 2}px`;
                } else if (rect.bottom > screenHeight) {
                    guide.style.bottom = '0';
                    guide.style.left = `${rect.left + rect.width / 2}px`;
                }

                // 가이드 클릭 시 해당 에임으로 이동
                guide.addEventListener('click', () => {
                    aim.scrollIntoView({ behavior: 'smooth', block: 'center', inline: 'center' });
                });

                guideContainer.appendChild(guide);
            }
        });
    }

    //aim hidden
    document.querySelectorAll('.aim').forEach(aim => {
    aim.addEventListener('click', (e) => {
        if (getComputedStyle(aim).display === 'none') {
            console.log('This aim is hidden and cannot be clicked.');
            return;
        }
        const popupId = e.target.getAttribute('data-popup');
        document.querySelectorAll('.popup').forEach(popup => popup.classList.remove('active'));
        document.getElementById(popupId).classList.add('active');
    });
});

    // 초기 확인 및 윈도우 리사이즈 시 업데이트
    checkAimPositions();
    window.addEventListener('resize', () => {
        document.querySelectorAll('.guide-container').forEach(container => container.remove());
        checkAimPositions();
    });


    

        // 모바일에서 배경 드래그 이동 기능
        const fullscreen = document.getElementById('fullscreen');
        let isDragging = false;
        let startX;

        fullscreen.addEventListener('touchstart', (e) => {
            isDragging = true;
            startX = e.touches[0].pageX;
        });

        fullscreen.addEventListener('touchmove', (e) => {
            if (!isDragging) return;
            const x = e.touches[0].pageX;
            const deltaX = startX - x;
            fullscreen.scrollLeft += deltaX;
            startX = x;
        });

        fullscreen.addEventListener('touchend', () => {
            isDragging = false;
        });



// URL 새 창으로 열기
function openMessageBox() {
    const url = "https://billydevelop.github.io/raisedorrfin.html"; // 열고자 하는 URL
    window.open(url, "_blank"); // 새 창으로 열기
}


// 메세지 리스트 모달 열기
function openMessageBox3() {
    const messageListPopup = document.getElementById('messageListPopup');
    const iframe = document.getElementById('messageListIframe');
    iframe.src = 'luckyfishmessage.html'; // 편지 리스트 HTML 경로
    messageListPopup.classList.add('active');
}

// 메세지 리스트 모달 닫기
function closeMessageList() {
    const messageListPopup = document.getElementById('messageListPopup');
    const iframe = document.getElementById('messageListIframe');
    messageListPopup.classList.remove('active');
    iframe.src = ''; // iframe 초기화
}

// 기존 팝업 닫기 함수 유지
function closePopup() {
    document.querySelectorAll('.popup').forEach(popup => popup.classList.remove('active'));
}



        </script>
    </body>
</html>
